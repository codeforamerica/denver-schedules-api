<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Summary Metrics by Year</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style type="text/css">
      body {  font-family: verdana, helvetica, sans-serif; margin: 0px; padding: 0; }
      h1 { font-weight: bold; font-size: 150%; border-bottom-style: solid; border-bottom-width: 2px; margin-top: 0px; padding-bottom: 0.5ex; color: #eeeeee; }
      h2 { font-size: 130%; padding-bottom: 0.5ex; color: #009ACE; border-bottom-style: solid; border-bottom-width: 2px; }
      h3 { font-size: 110%; padding-bottom: 0.5ex; color: #000000; }
      th { text-align: left; background-color: #009ACE; color: #eeeeee; }
      #ReportHeader { padding: 10px; background-color: #009ACE; color: #eeeeee; border-bottom-style: solid; border-bottom-width: 2px; border-color: #999999; }
      #ReportHeader th { width: 25%; white-space: nowrap; vertical-align: top; }
      #ReportHeader td { vertical-align: top; color: #eeeeee; }
      #ReportNotes { padding: 10px; background-color: #eeeeee; font-size: 80%; border-bottom-style: solid; border-bottom-width: 2px; border-color: #999999; }
      .ReportSQL { margin-bottom: 10px; padding: 10px; display: block; background-color: #eeeeee; font-family: monospace; }
      #ReportDetails { margin-left: 10px; margin-right: 10px; margin-bottom: 10px; }
      #ReportDetails td, th { font-size: 80%; margin-left: 2px; margin-right: 2px; }
      #ReportDetails th { border-bottom-color: #777777; border-bottom-style: solid; border-bottom-width: 2px; }
      .ReportDetailsOddDataRow { background-color: #dddddd; }
      .ReportDetailsEvenDataRow { background-color: #eeeeee; }
      .ReportTableHeaderCell { background-color: #dddddd; color: #009ACE; vertical-align: top; font-size: 80%; white-space: nowrap; }
      .ReportTableValueCell { vertical-align: top; font-size: 80%; white-space: nowrap; }
      .ReportTableInfo { font-size: 80%; font-style: italic; }
      #ReportFooter { font-weight: bold; font-size: 80%; text-align: right; background-color: #009ACE; color: #eeeeee; margin-top: 10px; padding: 2px; border-bottom-style: solid; border-bottom-width: 2px; border-top-style: solid; border-top-width: 2px; border-color: #999999; }
      #ReportFooter a { color: #ffffff; text-decoration: none; }
    </style>
  </head>
  <body>
    <div id="ReportHeader"><h1>Summary Metrics by Year</h1><b>Generated: </b>Fri Jun 27 18:10:59 2014<br /><b>Database: </b>den311_development on den311@localhost:5432<br /></div>
    <div id="ReportNotes"><b>Notes: </b><br /><br />This report looks at parking ticket, solid waste, and street sweeping 311 calls. Queries defined by 311.</div>
    <div id="ReportDetails">
      <h2>Query results</h2>
      <table>
        <tr>
          <th class="ReportTableHeaderCell" width="25%">yr</th>
          <th class="ReportTableHeaderCell" width="25%">category</th>
          <th class="ReportTableHeaderCell" width="25%">total</th>
          <th class="ReportTableHeaderCell" width="25%">percent</th>
        </tr>
        <tr class="ReportDetailsEvenDataRow">
          <td class="ReportTableValueCell">2007</td>
          <td class="ReportTableValueCell">Parking Ticket</td>
          <td class="ReportTableValueCell">10111</td>
          <td class="ReportTableValueCell">2.7</td>
        </tr>
        <tr class="ReportDetailsOddDataRow">
          <td class="ReportTableValueCell">2007</td>
          <td class="ReportTableValueCell">Solid Waste</td>
          <td class="ReportTableValueCell">24718</td>
          <td class="ReportTableValueCell">6.5</td>
        </tr>
        <tr class="ReportDetailsEvenDataRow">
          <td class="ReportTableValueCell">2007</td>
          <td class="ReportTableValueCell">Street Sweeping</td>
          <td class="ReportTableValueCell">1328</td>
          <td class="ReportTableValueCell">0.3</td>
        </tr>
        <tr class="ReportDetailsOddDataRow">
          <td class="ReportTableValueCell">2008</td>
          <td class="ReportTableValueCell">Parking Ticket</td>
          <td class="ReportTableValueCell">20431</td>
          <td class="ReportTableValueCell">4.3</td>
        </tr>
        <tr class="ReportDetailsEvenDataRow">
          <td class="ReportTableValueCell">2008</td>
          <td class="ReportTableValueCell">Solid Waste</td>
          <td class="ReportTableValueCell">25098</td>
          <td class="ReportTableValueCell">5.3</td>
        </tr>
        <tr class="ReportDetailsOddDataRow">
          <td class="ReportTableValueCell">2008</td>
          <td class="ReportTableValueCell">Street Sweeping</td>
          <td class="ReportTableValueCell">1721</td>
          <td class="ReportTableValueCell">0.4</td>
        </tr>
        <tr class="ReportDetailsEvenDataRow">
          <td class="ReportTableValueCell">2009</td>
          <td class="ReportTableValueCell">Parking Ticket</td>
          <td class="ReportTableValueCell">19951</td>
          <td class="ReportTableValueCell">4.2</td>
        </tr>
        <tr class="ReportDetailsOddDataRow">
          <td class="ReportTableValueCell">2009</td>
          <td class="ReportTableValueCell">Solid Waste</td>
          <td class="ReportTableValueCell">23184</td>
          <td class="ReportTableValueCell">4.9</td>
        </tr>
        <tr class="ReportDetailsEvenDataRow">
          <td class="ReportTableValueCell">2009</td>
          <td class="ReportTableValueCell">Street Sweeping</td>
          <td class="ReportTableValueCell">1983</td>
          <td class="ReportTableValueCell">0.4</td>
        </tr>
        <tr class="ReportDetailsOddDataRow">
          <td class="ReportTableValueCell">2010</td>
          <td class="ReportTableValueCell">Parking Ticket</td>
          <td class="ReportTableValueCell">13859</td>
          <td class="ReportTableValueCell">2.6</td>
        </tr>
        <tr class="ReportDetailsEvenDataRow">
          <td class="ReportTableValueCell">2010</td>
          <td class="ReportTableValueCell">Solid Waste</td>
          <td class="ReportTableValueCell">28749</td>
          <td class="ReportTableValueCell">5.5</td>
        </tr>
        <tr class="ReportDetailsOddDataRow">
          <td class="ReportTableValueCell">2010</td>
          <td class="ReportTableValueCell">Street Sweeping</td>
          <td class="ReportTableValueCell">1833</td>
          <td class="ReportTableValueCell">0.3</td>
        </tr>
        <tr class="ReportDetailsEvenDataRow">
          <td class="ReportTableValueCell">2011</td>
          <td class="ReportTableValueCell">Parking Ticket</td>
          <td class="ReportTableValueCell">10890</td>
          <td class="ReportTableValueCell">2.4</td>
        </tr>
        <tr class="ReportDetailsOddDataRow">
          <td class="ReportTableValueCell">2011</td>
          <td class="ReportTableValueCell">Solid Waste</td>
          <td class="ReportTableValueCell">26423</td>
          <td class="ReportTableValueCell">5.7</td>
        </tr>
        <tr class="ReportDetailsEvenDataRow">
          <td class="ReportTableValueCell">2011</td>
          <td class="ReportTableValueCell">Street Sweeping</td>
          <td class="ReportTableValueCell">1774</td>
          <td class="ReportTableValueCell">0.4</td>
        </tr>
        <tr class="ReportDetailsOddDataRow">
          <td class="ReportTableValueCell">2012</td>
          <td class="ReportTableValueCell">Parking Ticket</td>
          <td class="ReportTableValueCell">9431</td>
          <td class="ReportTableValueCell">2.1</td>
        </tr>
        <tr class="ReportDetailsEvenDataRow">
          <td class="ReportTableValueCell">2012</td>
          <td class="ReportTableValueCell">Solid Waste</td>
          <td class="ReportTableValueCell">32873</td>
          <td class="ReportTableValueCell">7.3</td>
        </tr>
        <tr class="ReportDetailsOddDataRow">
          <td class="ReportTableValueCell">2012</td>
          <td class="ReportTableValueCell">Street Sweeping</td>
          <td class="ReportTableValueCell">1919</td>
          <td class="ReportTableValueCell">0.4</td>
        </tr>
        <tr class="ReportDetailsEvenDataRow">
          <td class="ReportTableValueCell">2013</td>
          <td class="ReportTableValueCell">Parking Ticket</td>
          <td class="ReportTableValueCell">9786</td>
          <td class="ReportTableValueCell">2.1</td>
        </tr>
        <tr class="ReportDetailsOddDataRow">
          <td class="ReportTableValueCell">2013</td>
          <td class="ReportTableValueCell">Solid Waste</td>
          <td class="ReportTableValueCell">35124</td>
          <td class="ReportTableValueCell">7.6</td>
        </tr>
        <tr class="ReportDetailsEvenDataRow">
          <td class="ReportTableValueCell">2013</td>
          <td class="ReportTableValueCell">Street Sweeping</td>
          <td class="ReportTableValueCell">1910</td>
          <td class="ReportTableValueCell">0.4</td>
        </tr>
        <tr class="ReportDetailsOddDataRow">
          <td class="ReportTableValueCell">2014</td>
          <td class="ReportTableValueCell">Parking Ticket</td>
          <td class="ReportTableValueCell">1255</td>
          <td class="ReportTableValueCell">1.9</td>
        </tr>
        <tr class="ReportDetailsEvenDataRow">
          <td class="ReportTableValueCell">2014</td>
          <td class="ReportTableValueCell">Solid Waste</td>
          <td class="ReportTableValueCell">4597</td>
          <td class="ReportTableValueCell">7.0</td>
        </tr>
        <tr class="ReportDetailsOddDataRow">
          <td class="ReportTableValueCell">2014</td>
          <td class="ReportTableValueCell">Street Sweeping</td>
          <td class="ReportTableValueCell">147</td>
          <td class="ReportTableValueCell">0.2</td>
        </tr>
      </table>
      <br />
      <p class="ReportTableInfo">24 rows with 4 columns retrieved.</p>
      <pre class="ReportSQL">with all_cases as (<br />	select <br />    count(*) count,<br />    date_part('year', created) yr<br />  from <br />    cases <br />  group by<br />    date_part('year', cases.created)<br />  <br />),<br />street_sweeping_by_year as (<br />  select <br />    count(*) total,<br />    date_part('year', cases.created) yr,<br />    'Sweeping'::text category<br />  from <br />    cases <br />  where <br />    agency='Public Works' <br />    and division='Street Maint' <br />    and major_area='Street/Alley' <br />    and type='Service'<br />    and topic='Sweeping'<br />  group by<br />    date_part('year', cases.created) <br />),<br />ss_reminders_by_year as (<br />  select <br />    count(*) total,<br />    date_part('year', cases.created) yr,<br />    'Parking Ticket'::text category<br />  from <br />    cases <br />  where <br />    agency='Public Works' <br />    and division='Parking Mgmt' <br />    and major_area='Parking Ticket' <br />    and type='Information'<br />    and topic='Parking Ticket'  <br />  group by<br />    date_part('year', cases.created) <br />),<br />solid_waste_by_year as (<br />  select <br />    count(*) total,<br />    date_part('year', cases.created) yr,<br />    'Solid Waste'::text category<br />  from <br />    cases <br />  where <br />    agency='Public Works' <br />    and division='Solid Waste' <br />    and major_area='Recycle-Collection' <br />    and type='Information'<br />    and topic='Schedule'<br />  group by<br />    date_part('year', cases.created) <br />  <br />),<br />missed_compost_by_year as (<br />  select <br />    count(*) total,<br />    date_part('year', cases.created) yr,<br />    'Missed Compost'::text category<br />  from <br />    cases <br />  where <br />    agency='Public Works' <br />    and division='Solid Waste' <br />    and major_area='Trash Collection' <br />    and type='Complaint'<br />    and topic='Missed Compost'<br />  group by<br />    date_part('year', cases.created) <br />),<br />recycle_or_trash_problem_by_year as (<br />  select <br />    count(*) total,<br />    date_part('year', cases.created) yr,<br />    'Recyle/Trash Prblm'::text category<br />  from <br />    cases <br />  where <br />    agency='Public Works' <br />    and division='Solid Waste' <br />    and major_area='Recycle-Collection' <br />    and type='Complaint'<br />    and topic='Recyle/Trash Prblm'<br />  group by<br />    date_part('year', cases.created) <br />),<br />missed_trash_by_year as (<br />  select <br />    count(*) total,<br />    date_part('year', cases.created) yr,<br />    'Missed Trash'::text category<br />  from <br />    cases <br />  where <br />    agency='Public Works' <br />    and division='Solid Waste' <br />    and major_area='Trash Collection' <br />    and type='Complaint'<br />    and topic='Missed Trash'<br />  group by<br />    date_part('year', cases.created) <br />),<br />leaf_drop_by_year as (<br />  select <br />    count(*) total,<br />    date_part('year', cases.created) yr,<br />    'Leaf Drop'::text category<br />  from <br />    cases <br />  where <br />    agency='Public Works' <br />    and division='Solid Waste' <br />    and major_area='Recycle-Event/Progm' <br />    and type='Information'<br />    and topic='LeafDrop'<br />  group by<br />    date_part('year', cases.created) <br />),<br />electronics_recycling_by_year as (<br />  select <br />    count(*) total,<br />    date_part('year', cases.created) yr,<br />    'Electronics Recycling'::text category<br />  from <br />    cases <br />  where <br />    agency='Public Works' <br />    and division='Solid Waste' <br />    and major_area='Recycle-Event/Progm' <br />    and type='Information'<br />    and topic='Elect Recycling'<br />  group by<br />    date_part('year', cases.created) <br />),<br />compost_info_by_year as (<br />  select <br />    count(*) total,<br />    date_part('year', cases.created) yr,<br />    'Compost Information'::text category<br />  from <br />    cases <br />  where <br />    agency='Public Works' <br />    and division='Solid Waste' <br />    and major_area='Recycle-Collection' <br />    and type='Information'<br />    and topic='Compost Collect Prg'<br />  group by<br />    date_part('year', cases.created) <br />),<br />recycle_information_by_year as (<br />  select <br />    count(*) total,<br />    date_part('year', cases.created) yr,<br />    'Recycling Info'::text category<br />  from <br />    cases <br />  where <br />    agency='Public Works' <br />    and division='Solid Waste' <br />    and major_area='Recycle-Collection' <br />    and type='Information'<br />    and topic='Recycling Info'  <br />  group by<br />    date_part('year', cases.created) <br />),<br />christmas_tree_by_year as (<br />  select <br />    count(*) total,<br />    date_part('year', cases.created) yr,<br />    'Xmas Tree Recycling'::text category<br />  from <br />    cases <br />  where <br />    agency='Public Works' <br />    and division='Solid Waste' <br />    and major_area='Recycle-Event/Progm' <br />    and type='Information'<br />    and topic='Xmas Tree Recycling'<br />  group by<br />    date_part('year', cases.created) <br />),<br />recycle_signup_by_year as (<br />  select <br />    count(*) total,<br />    date_part('year', cases.created) yr,<br />    'Recycling Sign Up'::text category<br />  from <br />    cases <br />  where <br />    agency='Public Works' <br />    and division='Solid Waste' <br />    and major_area='Recycle-Collection' <br />    and type='Information'<br />    and topic='Recycling Sign Up'<br />  group by<br />    date_part('year', cases.created) <br />),<br />solidwaste_info_by_year as (<br />  select <br />    count(*) total,<br />    date_part('year', cases.created) yr,<br />    'Solid Waste Information'::text category<br />  from <br />    cases <br />  where <br />    agency='Public Works' <br />    and division='Solid Waste' <br />    and major_area='Trash Collection' <br />    and type='Complaint'<br />    and topic='Trash Collect Types'<br />  group by<br />    date_part('year', cases.created) <br />),<br />compost_class_purchase_by_year as (<br />  select <br />    count(*) total,<br />    date_part('year', cases.created) yr,<br />    'Composting Program Purchase'::text category<br />  from <br />    cases <br />  where <br />    agency='Public Works' <br />    and division='Solid Waste' <br />    and major_area='Recycle-Event/Progm' <br />    and type='Information'<br />    and topic='Composting Program'<br />  group by<br />    date_part('year', cases.created) <br />),<br />illegal_dumping_by_year as (<br />  select <br />    count(*) total,<br />    date_part('year', cases.created) yr,<br />    'Illegal Dumping'::text category<br />  from <br />    cases <br />  where <br />    agency='Public Works' <br />    and division='Solid Waste' <br />    and major_area='Keep Denvr Beautiful' <br />    and type='Information'<br />    and topic='Illegal Dumping'<br />  group by<br />    date_part('year', cases.created) <br />),<br />towed_vehicles_by_year as (<br />  select <br />    count(*) total,<br />    date_part('year', cases.created) yr,<br />    'Towed Vehicle'::text category<br />  from <br />    cases <br />  where <br />    agency='Safety' <br />    and division='Police Dept' <br />    and major_area='Vehicle' <br />    and type='Service'<br />    and topic='Towed Vehicle'<br />  group by<br />    date_part('year', cases.created) <br />),<br />illegal_parking_by_year as (<br />  select <br />    count(*) total,<br />    date_part('year', cases.created) yr,<br />    'Illegal Parking'::text category<br />  from <br />    cases <br />  where <br />    agency='Safety' <br />    and division='Police Dept' <br />    and major_area='Administrative' <br />    and type='Information'<br />    and topic='Administrative'<br />  group by<br />    date_part('year', cases.created) <br />),<br />street_sweeping_rollup as (<br />  select<br />    yr,<br />    sum(total) total,<br />    'Street Sweeping'::text category<br />  from (<br />    select<br />      *<br />    from<br />      ss_reminders_by_year<br />    union<br />    select<br />      *<br />    from<br />      street_sweeping_by_year<br />  ) rollup<br />  group by<br />    yr<br />),<br />parking_ticket_rollup as (<br />  select<br />    yr,<br />    sum(total) total,<br />    'Parking Ticket'::text category<br />  from (<br />    select<br />      *<br />    from<br />      towed_vehicles_by_year<br />    union<br />    select<br />      *<br />    from<br />      illegal_parking_by_year<br />  ) rollup<br />  group by<br />    yr<br />),<br />solid_waste_rollup as (<br />  select<br />    yr,<br />    sum(total) total,<br />    'Solid Waste'::text category<br />  from (<br />    select<br />      *<br />    from<br />      solid_waste_by_year<br />    union<br />    select<br />      *<br />    from<br />      recycle_or_trash_problem_by_year<br />    union<br />    select<br />      *<br />    from<br />      missed_trash_by_year<br />    union<br />    select<br />      *<br />    from<br />      leaf_drop_by_year<br />    union<br />    select<br />      *<br />    from<br />      electronics_recycling_by_year<br />    union<br />    select<br />      *<br />    from<br />      compost_info_by_year<br />    union<br />    select<br />      *<br />    from<br />      missed_compost_by_year<br />    union<br />    select<br />      *<br />    from<br />      recycle_information_by_year<br />    union<br />    select<br />      *<br />    from<br />      christmas_tree_by_year<br />    union<br />    select<br />      *<br />    from<br />      recycle_signup_by_year<br />    union<br />    select<br />      *<br />    from<br />      solidwaste_info_by_year<br />    union<br />    select<br />      *<br />    from<br />      compost_class_purchase_by_year<br />    union<br />    select<br />      *<br />    from<br />      illegal_dumping_by_year<br />  ) rollup<br />  group by<br />    yr<br />),<br />summary as (<br />  select<br />    r.yr,<br />    r.category,<br />    r.total,<br />    round(r.total / a.count * 100.0, 1) percent<br />  from<br />    street_sweeping_rollup r<br />  inner join<br />    all_cases a<br />    on a.yr = r.yr<br />  union<br />  select<br />    r.yr,<br />    r.category,<br />    r.total,<br />    round(r.total / a.count * 100.0, 1) percent<br />  from<br />    parking_ticket_rollup r<br />  inner join<br />    all_cases a<br />    on a.yr = r.yr<br />  union<br />  select<br />    r.yr,<br />    r.category,<br />    r.total,<br />    round(r.total / a.count * 100.0, 1) percent<br />  from<br />    solid_waste_rollup r<br />  inner join<br />    all_cases a<br />    on a.yr = r.yr<br />)<br /><br />select * from summary order by yr, category<br /></pre>
    </div>
    <div id="ReportFooter">
Report generated by <a href="http://www.pgadmin.org/">pgAdmin III</a></div>
    <br />
  </body>
</html>
